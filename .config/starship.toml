"$schema" = "https://starship.rs/config-schema.json"

# ─────────────────────────────────────────────
# GLOBAL BEHAVIOR
# ─────────────────────────────────────────────
add_newline = true
scan_timeout = 30
command_timeout = 1000

# ─────────────────────────────────────────────
# PROMPT LAYOUT (TWO LINES)
# ─────────────────────────────────────────────
format = """
$os\
$username\
$hostname\
$directory\
$git_branch\
$git_status\
$azure\
$gcloud\
$line_break\
$character
"""

right_format = "$kubernetes"

# ─────────────────────────────────────────────
# MATRIX-ISH DARK PALETTE (based on your screenshot)
# ─────────────────────────────────────────────
palette = "matrix"

[palettes.matrix]
# Phosphor greens + yellow highlight on a dark background vibe
fg = "#9CFF9C"
muted = "#5F7F5F"
blue = "#5FD7FF"
green = "#00FF87"
yellow = "#FFD700"
red = "#FF5F5F"
purple = "#7AF08A"
cyan = "#3DFFB2"
orange = "#A6FF6A"

# ─────────────────────────────────────────────
# LINE CONTROL
# ─────────────────────────────────────────────
[line_break]
disabled = false

# ─────────────────────────────────────────────
# PROMPT SYMBOL
# ─────────────────────────────────────────────
[character]
success_symbol = "[❯](bold green)"
error_symbol = "[❯](bold red)"
vimcmd_symbol = "[❮](bold cyan)"

# ─────────────────────────────────────────────
# IDENTITY / CONTEXT (LINE 1)
# ─────────────────────────────────────────────
[os]
disabled = false
format = "[$symbol]($style) "
style = "green"

[username]
show_always = true
format = "[$user]($style)"
style_user = "bold fg"

[hostname]
ssh_only = false
format = "[@$hostname]($style) "
style = "muted"
ssh_symbol = " "

[directory]
format = "[$path]($style)[$read_only]($read_only_style) "
style = "bold green"
read_only = " 󰌾"
read_only_style = "bold red"
truncation_length = 3
truncate_to_repo = true

# ─────────────────────────────────────────────
# GIT (ESSENTIAL SIGNAL ONLY)
# ─────────────────────────────────────────────
[git_branch]
symbol = " "
format = "[$symbol$branch]($style) "
style = "purple"

[git_status]
format = "([\\[$all_status$ahead_behind\\]]($style) )"
style = "yellow"
conflicted = "≠"
ahead = "⇡"
behind = "⇣"
diverged = "⇕"
untracked = "?"
stashed = "$"
modified = "!"
staged = "+"
renamed = "»"
deleted = "✘"

# ─────────────────────────────────────────────
# LANGUAGES (ONLY WHAT MATTERS)
# ─────────────────────────────────────────────
[golang]
symbol = " "
format = "[$symbol$version]($style) "
style = "cyan"

[nodejs]
symbol = " "
format = "[$symbol$version]($style) "
style = "green"

[python]
symbol = " "
format = "[$symbol$version]($style) "
style = "yellow"

[rust]
symbol = "󱘗 "
format = "[$symbol$version]($style) "
style = "red"

# ─────────────────────────────────────────────
# CLOUD (LEFT — QUIET, HIGH SIGNAL)
# ─────────────────────────────────────────────
[azure]
symbol = " "   # Azure logo (Nerd Font)
format = "[$symbol$subscription]($style) "
style = "bold blue"
disabled = false

[aws]
symbol = " "
format = "[$symbol($profile )]($style) "
style = "yellow"
disabled = true

# FIXED: use a different Nerd Font glyph that is widely supported.
# (Font Awesome "cloud" icon; Nerd Fonts usually map this reliably)
[gcloud]
symbol = "󰊮 "
format = "[$symbol$account]($style) "
style = "blue"
disabled = false

# ─────────────────────────────────────────────
# KUBERNETES (RIGHT SIDE — ALWAYS VISIBLE)
# ─────────────────────────────────────────────
[kubernetes]
symbol = "󱃾 "
disabled = false
detect_env_vars = ["STARSHIP_K8S_VISIBLE"]

format = "[$symbol$context(  $namespace)]($style)"

[[kubernetes.contexts]]
context_pattern = ".*k3s.*"
style = "bold green"
symbol = "󰄬 "

[[kubernetes.contexts]]
context_pattern = ".*stage.*"
style = "bold yellow"
symbol = "󰀦 "

[[kubernetes.contexts]]
context_pattern = ".*prod.*"
style = "bold red"
symbol = "󰀨 "

# ─────────────────────────────────────────────
# OS SYMBOLS
# ─────────────────────────────────────────────
[os.symbols]
Macos = " "
Linux = " "
Arch = " "
Ubuntu = " "
Windows = "󰍲 "
